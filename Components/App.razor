<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />

    <link href="css/app.css" rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    @* START PRISM SETUP *@
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/katorlys/prism-theme-github/themes/prism-theme-github-dark.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" data-manual></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nasm.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-powershell.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-gdscript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js"></script>

    @* GLOBAL STYLES *@
    <style>
        /* ============================== */
        /* 1. CUSTOM IDE / PRISM STYLES   */
        /* ============================== */

        /* Terminal Window Container */
        pre[class*=language-] {
            position: relative;
            margin-top: 2rem !important;
            /* Make room for the label */
            padding-top: 2rem !important;
            padding-bottom: 1rem !important;
            padding-left: 1rem !important;
            padding-right: 1rem !important;
            background-color: #010409 !important;
            overflow: auto;
        }

        /* Language Tab Label - Top Left Anchor */
        pre[class*=language-][data-language]::before {
            content: attr(data-language);
            color: #000;
            background-color: #CFCFCF;
            width: fit-content;
            white-space: nowrap;
            position: absolute;
            top: 0;
            left: 0;
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            padding: 0.25rem 0.75rem;
            border-bottom-right-radius: 4px;
            z-index: 10;
            text-shadow: none;
        }

        /* Reset code padding so it doesn't double up with the pre padding */
        pre[class*=language-][data-language] code {
            display: block;
            padding: 0 !important;
        }

        /* ============================== */
        /* 2. TECHNO GLITCH EFFECTS       */
        /* ============================== */

        .glitch-target {
            position: relative;
        }

        /* Create two pseudo-elements with the same text */
        .glitch-target::before,
        .glitch-target::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0d1117;
            /* Match background color to hide main text during glitch */
        }

        /* Layer 1: Red/Magenta shift */
        .glitch-target::before {
            left: 2px;
            text-shadow: -2px 0 #ff00c1;
            clip-path: inset(0 0 0 0);
            animation: techno-glitch-1 4s infinite linear alternate-reverse;
            z-index: -1;
        }

        /* Layer 2: Blue/Cyan shift */
        .glitch-target::after {
            left: -2px;
            text-shadow: 2px 0 #00fff9;
            clip-path: inset(0 0 0 0);
            animation: techno-glitch-2 3s infinite linear alternate-reverse;
            z-index: -2;
        }

        /* NOTE: We use @@keyframes to escape the Razor syntax! */
        @@keyframes techno-glitch-1 {
            0% {
                clip-path: inset(20% 0 50% 0);
                transform: skew(1deg);
            }

            2% {
                clip-path: inset(10% 0 85% 0);
                transform: skew(0.5deg);
            }

            4% {
                clip-path: inset(80% 0 5% 0);
                transform: skew(2deg);
            }

            5%,
            95% {
                clip-path: inset(0 0 0 0);
                transform: skew(0);
                text-shadow: none;
                background: transparent;
            }

            96% {
                clip-path: inset(50% 0 30% 0);
                transform: skew(1deg);
                text-shadow: -2px 0 #ff00c1;
                background: #0d1117;
            }

            100% {
                clip-path: inset(10% 0 60% 0);
                transform: skew(2deg);
            }
        }

        @@keyframes techno-glitch-2 {
            0% {
                clip-path: inset(15% 0 60% 0);
                transform: skew(-2deg);
            }

            1% {
                clip-path: inset(40% 0 30% 0);
                transform: skew(-1deg);
            }

            /* Long pause */
            2%,
            98% {
                clip-path: inset(0 0 0 0);
                transform: skew(0);
                text-shadow: none;
                background: transparent;
            }

            /* Quick buzz at the end */
            99% {
                clip-path: inset(5% 0 80% 0);
                transform: skew(-3deg);
                text-shadow: 2px 0 #00fff9;
                background: #0d1117;
            }

            100% {
                clip-path: inset(70% 0 10% 0);
                transform: skew(-1deg);
            }
        }
    </style>
    <HeadOutlet />
</head>

<body class="min-h-screen bg-bgDark font-sans text-gray-300 antialiased selection:bg-red-900 selection:text-white">
    <Routes />

    @* Generates Language Labels *@
    <script>
        // This function runs after the DOM is ready to ensure all <pre> tags exist
        document.addEventListener("DOMContentLoaded", () => {
            const langMap = {
                'cs': 'C#', 'csharp': 'C#',
                'cpp': 'C++', 'c': 'C',
                'py': 'PYTHON', 'python': 'PYTHON',
                'js': 'JS', 'javascript': 'JAVASCRIPT',
                'ts': 'TS', 'typescript': 'TYPESCRIPT',
                'html': 'HTML', 'xml': 'XML',
                'json': 'JSON', 'yaml': 'YAML',
                'md': 'MARKDOWN',
                'bash': 'BASH', 'sh': 'SHELL', 'powershell': 'POWERSHELL',
                'nasm': 'ASSEMBLY', 'asm': 'ASSEMBLY',
                'gdscript': 'GDSCRIPT'
            };

            document.querySelectorAll('pre[class*="language-"]').forEach(pre => {
                const className = [...pre.classList].find(c => c.startsWith('language-'));

                if (className) {
                    const rawLang = className.replace('language-', '').toLowerCase();
                    const label = langMap[rawLang] || rawLang.toUpperCase();
                    pre.setAttribute('data-language', label);
                }
            });
        });
    </script>
</body>

</html>