<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><base href="/"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="icon" type="image/x-icon" href="favicon.ico"><link href="css/app.css" rel="stylesheet"><link href="css/site.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"><link rel="preload" href="css/prism-dark.css" as="style"><link rel="preload" href="css/prism-light.css" as="style"><link id="prism-theme-link" rel="stylesheet" href="css/prism-dark.css"><script>!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("user-theme"),m="dark";m="light"===t?"light":"dark"===t||e?"dark":"light",document.documentElement.setAttribute("data-theme",m),"light"===m&&(document.getElementById("prism-theme-link").href="css/prism-light.css")}()</script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" data-manual></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-python.min.js" integrity="sha512-3qtI9+9JXi658yli19POddU1RouYtkTEhTHo6X5ilOvMiDfNvo6GIS6k2Ukrsx8MyaKSXeVrnIWeyH8G5EOyIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-nasm.min.js" integrity="sha512-zdmZCKfEirT3AOxxgIwXpIyik7DSpYOnzXujg8duM6ICokx243tPnCTgqiQN+TAhLSMO2UF11C/+gO1DrI+A8A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-bash.min.js" integrity="sha512-35RBtvuCKWANuRid6RXP2gYm4D5RMieVL/xbp6KiMXlIqgNrI7XRUh9HurE8lKHW4aRpC0TZU3ZfqG8qmQ35zA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js" integrity="sha512-dnJS1fxEUNZirzvtoG39P8JWa8DajX420LajzUbn+taV6hd9BfnHHgpPAWNADYjNRPT1Gt4v4/XGMULqi0uqVQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-kotlin.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-c.min.js" integrity="sha512-EWIJI7uQnA8ClViH2dvhYsNA7PHGSwSg03FAfulqpsFiTPHfhdQIvhkg/l3YpuXOXRF2Dk0NYKIl5zemrl1fmA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-gdscript.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-csharp.min.js" integrity="sha512-lNcWxx1oz89gefDhnB9knOCI/GcjlFNZq7ik92IA9AdKVamhge7Z9Ne3MSAim/wPdTrthGF0iQMs19z1WS9gFw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-markdown.min.js" integrity="sha512-4lQBgtc3AKPFSyFxc8Uaq6rz3VHwrSOdQxXtkJN9cS81ErTSoNSBxLDzWNYwwYryuvQpseKWiOmZdArMroqnLw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="manifest" href="site.webmanifest.json"><meta name="theme-color" content="#ef4444"><link rel="apple-touch-icon" href="apple-touch-icon.png"></head><body class="min-h-screen bg-bg-base font-sans text-text-dim antialiased selection:bg-accent selection:text-white"><div class="flex min-h-screen flex-col bg-bg-base transition-colors duration-300"><header id="main-navbar" class="fixed top-0 left-0 right-0 z-40 w-full border-b border-border-muted bg-bg-base transition-transform duration-300"><div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6 xl:px-0"><div class="flex lg:w-0 lg:flex-1"><a href class="-m-1.5 p-1.5"><div class="text-xl font-bold text-text-main hover:text-accent transition-colors">Ren&#x27;s Courses</div></a></div><nav class="hidden space-x-6 sm:flex items-center"><a href="" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Home</a><a href="materials" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Materials</a><a href="projects" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Showcase</a><div class="relative"><button id="desktop-dropdown-btn" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-text-dim hover:text-accent hover:bg-transparent focus:outline-none focus:ring-0 focus:bg-transparent transition-colors"><span class="sr-only">More menu</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button><div id="desktop-dropdown-menu" class="hidden absolute right-0 mt-2 w-56 origin-top-right rounded-lg bg-surface border border-border-muted shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50"><div class="py-1 max-h-48 overflow-y-auto"><a href="https://forms.gle/mRFBXwhuR3LdvSN3A" target="_blank" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Submissions</span></div></a><a href="bookings" target="_self" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Bookings</span></div></a><a href="calendar" target="_self" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Calendar</span></div></a><a href="https://script.google.com/a/macros/up.edu.ph/s/AKfycbzDek55-JQ1pRgdjQsj8Xoe3CMA-LCwt4ARG3f7SCoskOwsVfIhY0ztXSLVLOfH0i_smw/exec" target="_blank" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Grades</span></div></a></div></div></div><button type="button" class="theme-toggle-btn p-2 text-text-dim hover:text-accent transition-colors rounded-md" aria-label="Toggle Theme"><svg class="icon-sun hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg> <svg class="icon-moon hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button></nav><div class="flex flex-1 justify-end sm:hidden"><button id="toggle-button" type="button" class="-m-2.5 p-2.5 text-text-dim hover:text-accent"><span class="sr-only">Open main menu</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div></div></header><div class="h-16 w-full"></div><div id="mobile-menu-container" class="hidden fixed inset-0 z-50"><div id="mobile-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-100"></div><div class="relative w-full h-full max-h-screen overflow-y-auto bg-bg-base border-b border-border-muted shadow-2xl transform transition-transform"><div class="flex items-center justify-between px-6 py-4 border-b border-border-muted/50 sticky top-0 bg-bg-base z-10"><span class="font-bold text-text-main">Navigate</span><div class="flex items-center gap-2"><button type="button" class="theme-toggle-btn p-2 text-text-dim hover:text-accent bg-surface rounded-md border border-border-muted"><svg class="icon-sun hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg> <svg class="icon-moon hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button> <button id="close-mobile-menu-button" class="p-2 text-text-dim hover:text-accent bg-surface rounded-md border border-border-muted"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div><div class="px-6 py-6 space-y-2 pb-24"><a href="" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Home</div></a><a href="materials" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Materials</div></a><a href="projects" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Showcase</div></a><a href="https://forms.gle/mRFBXwhuR3LdvSN3A" target="_blank" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Submissions</div></a><a href="bookings" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Bookings</div></a><a href="calendar" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Calendar</div></a><a href="https://script.google.com/a/macros/up.edu.ph/s/AKfycbzDek55-JQ1pRgdjQsj8Xoe3CMA-LCwt4ARG3f7SCoskOwsVfIhY0ztXSLVLOfH0i_smw/exec" target="_blank" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Grades</div></a></div></div></div><script>const menuContainer=document.querySelector("#mobile-menu-container"),backdrop=document.querySelector("#mobile-backdrop"),toggleBtn=document.querySelector("#toggle-button"),closeBtn=document.querySelector("#close-mobile-menu-button"),toggleMobileMenu=()=>{menuContainer.classList.contains("hidden")?(menuContainer.classList.remove("hidden"),document.body.classList.add("overflow-hidden")):(menuContainer.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};toggleBtn.addEventListener("click",toggleMobileMenu),closeBtn.addEventListener("click",toggleMobileMenu),backdrop.addEventListener("click",toggleMobileMenu);const desktopBtn=document.getElementById("desktop-dropdown-btn"),desktopMenu=document.getElementById("desktop-dropdown-menu");function initThemeToggle(){const e=document.querySelectorAll(".theme-toggle-btn"),t=t=>{e.forEach(e=>{const n=e.querySelector(".icon-sun"),o=e.querySelector(".icon-moon");"light"===t?(n.classList.add("hidden"),o.classList.remove("hidden")):(o.classList.add("hidden"),n.classList.remove("hidden"))})},n=document.documentElement.getAttribute("data-theme")||"dark";t(n),e.forEach(e=>{e.addEventListener("click",()=>{const e="light"===document.documentElement.getAttribute("data-theme")?"dark":"light";window.switchPrismTheme&&(window.switchPrismTheme(e),t(e))})});new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"data-theme"===e.attributeName&&t(document.documentElement.getAttribute("data-theme"))})}).observe(document.documentElement,{attributes:!0})}desktopBtn&&desktopMenu&&(desktopBtn.addEventListener("click",e=>{e.stopPropagation(),desktopMenu.classList.toggle("hidden")}),document.addEventListener("click",e=>{desktopMenu.classList.contains("hidden")||desktopMenu.contains(e.target)||e.target===desktopBtn||desktopMenu.classList.add("hidden")})),initThemeToggle();let lastScrollTop=0;const navbar=document.getElementById("main-navbar");window.addEventListener("scroll",function(){let e=window.pageYOffset||document.documentElement.scrollTop;if(e<=64)return navbar.classList.remove("-translate-y-full"),void(lastScrollTop=e);e>lastScrollTop?(navbar.classList.add("-translate-y-full"),desktopMenu&&!desktopMenu.classList.contains("hidden")&&desktopMenu.classList.add("hidden"),menuContainer.classList.contains("hidden")?navbar.classList.add("-translate-y-full"):navbar.classList.remove("-translate-y-full")):navbar.classList.remove("-translate-y-full"),lastScrollTop=e})</script><main class="flex-grow w-full mx-auto max-w-5xl px-4 sm:px-6 xl:px-0"><div class="w-full px-4 animate-fade-in"><div class="grid grid-cols-1 xl:grid-cols-[1fr_minmax(auto,65ch)_1fr] gap-8 relative max-w-[1920px] mx-auto"><div class="hidden xl:block"></div><article class="min-w-0 w-full mx-auto max-w-[65ch]"><header class="border-b border-border-muted pb-10 pt-10 text-center"><div class="mb-6 flex justify-center gap-2"><a href="materials/cmsc-125" class="rounded border border-accent/50 bg-accent-dim px-2 py-1 text-xs font-medium text-accent hover:bg-accent hover:text-white transition-colors uppercase tracking-wider">cmsc-125</a></div><h1 class="text-3xl font-bold text-text-main sm:text-5xl font-mono">Unix Shell</h1><p class="mt-3 text-xl text-text-dim font-mono">CMSC 125 Lab 1</p><div class="mt-8 flex flex-col items-center gap-3"><div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-3 text-sm text-text-dim font-mono"><a href="https://github.com/WhiteLicorice" target="_blank" rel="noopener noreferrer" class="flex flex-col sm:flex-row items-center gap-1 sm:gap-2 text-text-dim hover:text-accent transition-colors group"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hover:text-primary-400 w-5 h-5 sm:w-4 sm:h-4 shrink-0 group-hover:text-accent fill-current text-gray-200"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> <span class="font-medium">Ren</span></a><span class="hidden sm:inline text-border-muted mx-1">•</span> <time>January 29, 2026</time></div><a href="https://drive.google.com/file/d/18t4vKkTPdYS-WU2hAR-A3QC-89r6UrG5/view?usp=drive_link" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-accent hover:text-text-main transition-colors group text-sm font-medium mt-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 transition-transform group-hover:translate-y-0.5"><path d="M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"></path><path d="M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"></path></svg> <span class="border-b border-accent/30 group-hover:border-text-main pb-0.5">Download</span></a></div></header><div class="xl:hidden mt-8 mb-4"><details class="group bg-surface border border-border-muted rounded-lg overflow-hidden"><summary class="flex items-center justify-between p-4 cursor-pointer list-none text-text-dim font-mono text-sm font-bold"><span><span class="text-accent mr-2">>></span>Table of Contents</span> <svg class="w-4 h-4 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></summary><div class="p-4 pt-0 border-t border-border-muted/50"><nav id="mobile-toc-content" class="mt-2"></nav></div></details></div><div class="prose max-w-none py-10"><p>This laboratory assignment focuses on process management and I/O redirection using the POSIX API in C. You will implement a simplified Unix shell that demonstrates how operating systems manage processes and handle basic I/O operations.</p><hr><h2 id="background">Background</h2><p>A shell is a command-line interpreter that provides a user interface for interacting with the operating system. It reads commands from the user, interprets them, and executes them by creating and managing processes. Your shell will demonstrate fundamental OS concepts including process creation, program execution, and I/O redirection.</p><hr><h2 id="learning-objectives">Learning Objectives</h2><p>By the end of this laboratory exercise, students should be able to:</p><ul><li>Implement an interactive command-line interface</li><li>Use the POSIX process API (<code>fork()</code>, <code>exec()</code> family, <code>wait()</code>/<code>waitpid()</code>)</li><li>Implement I/O redirection using file descriptors and <code>dup2()</code></li><li>Handle background processes</li><li>Parse and tokenize user input using C (recall: CMSC 124)</li><li>Distinguish between built-in and external commands</li><li>Follow modern C best practices and documentation standards</li></ul><hr><h2 id="task">Task</h2><p>Build a Unix shell (<code>mysh</code>) that supports:</p><ul><li>Interactive command execution with prompt</li><li>Built-in commands: <code>exit</code>, <code>cd</code>, <code>pwd</code></li><li>External command execution via <code>fork()</code> and <code>exec()</code></li><li>I/O redirection: <code>&gt;</code> (truncate), <code>&gt;&gt;</code> (append), <code>&lt;</code> (input)</li><li>Background execution: <code>&amp;</code></li></ul><hr><h2 id="required-features">Required Features</h2><h3 id="interactive-command-loop">Interactive Command Loop</h3><p>Your shell must present an interactive prompt and process commands in a loop:</p><pre><code class="language-bash">$ ./mysh
mysh&gt; pwd
/home/user
mysh&gt; cd /tmp
mysh&gt; pwd
/tmp
mysh&gt; ls -la
total 24
drwxrwxrwt 10 root root 4096 Dec  7 10:30 .
drwxr-xr-x 19 root root 4096 Oct 15 09:15 ..
...
mysh&gt; echo &quot;Hello, World!&quot;
Hello, World!
mysh&gt; nonexistent_command
mysh: command not found: nonexistent_command
mysh&gt; exit
$
</code></pre><h3 id="built-in-commands">Built-in Commands</h3><p>The following commands must be implemented directly in the shell (no forking):</p><ul><li><strong>exit</strong>: Terminate the shell (ensure that zombie processes are terminated)</li><li><strong>cd<directory></directory></strong>: Change current working directory using <code>chdir()</code></li><li><strong>pwd</strong>: Print current working directory using <code>getcwd()</code></li></ul><h3 id="external-command-execution">External Command Execution</h3><p>All non-built-in commands must be executed by forking a child process:</p><ol><li>Fork a child process using <code>fork()</code></li><li>In child: execute command using <code>execvp()</code></li><li>In parent: wait for child completion (unless background job)</li><li>Report exit status and errors appropriately</li></ol><h3 id="io-redirection">I/O Redirection</h3><p>Support standard I/O redirection operators:</p><pre><code class="language-bash">mysh&gt; ls -la &gt; output.txt
mysh&gt; cat output.txt
total 24
drwxr-xr-x 2 user user 4096 Dec  7 10:30 .
...
mysh&gt; wc -l &lt; output.txt
      12
mysh&gt; echo &quot;appending text&quot; &gt;&gt; output.txt
mysh&gt; sort &lt; unsorted.txt &gt; sorted.txt
</code></pre><p>Implementation requirements:</p><ul><li>Use <code>open()</code> to open files with appropriate flags (<code>O_RDONLY</code>, <code>O_WRONLY</code>, <code>O_CREAT</code>, <code>O_TRUNC</code>, <code>O_APPEND</code>)</li><li>Use <code>dup2()</code> to redirect file descriptors (stdin, stdout)</li><li>Close file descriptors after use to prevent leaks</li><li>Handle file errors gracefully (permission denied, file not found, etc.)</li><li>Support combining input and output redirection: <code>sort &lt; input.txt &gt; output.txt</code></li></ul><h3 id="background-execution">Background Execution</h3><p>Support background job execution with the <code>&amp;</code> operator:</p><pre><code class="language-bash">mysh&gt; sleep 10 &amp;
[1] Started background job: sleep 10 (PID: 12345)
mysh&gt; echo &quot;Shell still responsive&quot;
Shell still responsive
mysh&gt; sleep 20 &amp;
[2] Started background job: sleep 20 (PID: 12346)
mysh&gt; ls -la
(output appears immediately)
mysh&gt;
</code></pre><p>Implementation requirements:</p><ul><li>Detect <code>&amp;</code> at end of command line</li><li>Parent does not wait for background process to complete</li><li>Print job start message with job ID and PID</li><li>Track background processes to avoid zombie processes</li><li>Use <code>waitpid()</code> with <code>WNOHANG</code> to reap completed background jobs</li></ul><hr><h2 id="technical-requirements">Technical Requirements</h2><h3 id="required-system-calls">Required System Calls</h3><ul><li><strong>Process management:</strong> <code>fork()</code>, <code>execvp()</code>, <code>wait()</code>, <code>waitpid()</code>, <code>getpid()</code>, <code>getppid()</code></li><li><strong>I/O:</strong> <code>dup2()</code>, <code>open()</code>, <code>close()</code></li><li><strong>File system:</strong> <code>chdir()</code>, <code>getcwd()</code></li></ul><h3 id="data-structures">Data Structures</h3><p>Design appropriate data structures to represent commands. Consider:</p><pre><code class="language-c">typedef struct {
    char *command;        // Command name
    char *args[256];      // Arguments (NULL-terminated)
    char *input_file;     // For &lt; redirection (NULL if none)
    char *output_file;    // For &gt; or &gt;&gt; redirection (NULL if none)
    bool append;          // true for &gt;&gt;, false for &gt;
    bool background;      // true if &amp; present
} Command;
</code></pre><h3 id="code-organization">Code Organization</h3><p>Your implementation should follow good software engineering practices:</p><ul><li>Modular design with separate functions for distinct responsibilities</li><li>Clear separation between parsing and execution</li><li>Header files for data structures and function declarations</li><li>Comprehensive error handling for all system calls</li><li>Proper memory management (no memory leaks)</li><li>Meaningful variable names and code comments</li></ul><hr><h2 id="implementation-notes">Implementation Notes</h2><h3 id="command-parsing">Command Parsing</h3><p>Parse user input into tokens representing command, arguments, and operators:</p><ul><li>Use <code>strtok()</code> or similar to tokenize input by whitespace</li><li>Detect special operators: <code>&gt;</code>, <code>&gt;&gt;</code>, <code>&lt;</code>, <code>&amp;</code></li><li>Build command structure with extracted information</li><li>Handle edge cases: multiple spaces, trailing whitespace, empty input</li></ul><h3 id="process-execution">Process Execution</h3><p>Execute commands by creating child processes:</p><pre><code class="language-c">pid_t pid = fork();

if (pid &lt; 0) {
    perror(&quot;fork failed&quot;);
    return -1;
}

if (pid == 0) {  // Child process
    // Apply redirections if needed
    if (cmd.input_file) {
        int fd = open(cmd.input_file, O_RDONLY);
        if (fd &lt; 0) {
            perror(&quot;open input file&quot;);
            exit(1);
        }
        dup2(fd, STDIN_FILENO);
        close(fd);
    }
    
    if (cmd.output_file) {
        int flags = O_WRONLY | O_CREAT;
        flags |= cmd.append ? O_APPEND : O_TRUNC;
        int fd = open(cmd.output_file, flags, 0644);
        if (fd &lt; 0) {
            perror(&quot;open output file&quot;);
            exit(1);
        }
        dup2(fd, STDOUT_FILENO);
        close(fd);
    }
    
    // Execute command
    execvp(cmd.command, cmd.args);
    perror(&quot;exec failed&quot;);
    exit(127);
} else {  // Parent process
    if (!cmd.background) {
        int status;
        waitpid(pid, &amp;status, 0);
        if (WIFEXITED(status)) {
            int exit_code = WEXITSTATUS(status);
            if (exit_code != 0) {
                printf(&quot;Command exited with code %d\n&quot;, exit_code);
            }
        }
    } else {
        printf(&quot;[%d] Started: %s (PID: %d)\n&quot;, job_id, cmd_str, pid);
        // Add to background job list
    }
}
</code></pre><h3 id="file-descriptor-management">File Descriptor Management</h3><p>Properly manage file descriptors to avoid leaks:</p><ul><li>Close file descriptors after <code>dup2()</code> in child processes</li><li>Remember: every <code>open()</code> creates an FD that must be closed</li></ul><h3 id="background-process-management">Background Process Management</h3><p>Track background processes to prevent zombies:</p><ul><li>Maintain a list or array of background job PIDs</li><li>Periodically call <code>waitpid(pid, &amp;status, WNOHANG)</code> for each background job</li><li>Remove completed jobs from the list</li><li>Call this cleanup function at the start of each shell loop iteration</li></ul><hr><h2 id="common-pitfalls">Common Pitfalls</h2><ul><li><strong>Zombie processes:</strong> Always reap child processes. Use <code>waitpid()</code> with <code>WNOHANG</code> for background jobs.</li><li><strong>Built-in commands in child:</strong> Built-ins like <code>cd</code> must execute in parent process, not child.</li><li><strong>Memory leaks:</strong> Free all dynamically allocated memory.</li><li><strong>Parse errors:</strong> Handle malformed input gracefully. Don't crash on missing arguments or files.</li><li><strong>Redirection order:</strong> Support both <code>&lt; in &gt; out</code> and <code>&gt; out &lt; in</code> orderings.</li></ul><hr><h2 id="testing-strategy">Testing Strategy</h2><p>Test your shell thoroughly with diverse scenarios:</p><h3 id="basic-functionality">Basic Functionality</h3><ul><li>External commands: <code>ls</code>, <code>echo</code>, <code>cat</code>, <code>grep</code>, <code>wc</code></li><li>Built-in commands: <code>cd</code>, <code>pwd</code>, <code>exit</code></li><li>Commands with multiple arguments: <code>ls -la /tmp</code></li><li>Nonexistent commands</li><li>Empty input and whitespace-only input</li></ul><h3 id="io-redirection-1">I/O Redirection</h3><ul><li>Output: <code>echo &quot;test&quot; &gt; file.txt</code></li><li>Append: <code>echo &quot;more&quot; &gt;&gt; file.txt</code></li><li>Input: <code>wc -l &lt; file.txt</code></li><li>Combined: <code>sort &lt; input.txt &gt; output.txt</code></li><li>Both orderings: <code>&lt; in &gt; out</code> and <code>&gt; out &lt; in</code></li><li>Nonexistent input file (should show error)</li><li>Permission-denied output file (should show error)</li><li>Overwriting existing files</li></ul><h3 id="background-jobs">Background Jobs</h3><ul><li>Single background job: <code>sleep 10 &amp;</code></li><li>Multiple concurrent background jobs</li><li>Background job that exits immediately</li><li>Background job with output redirection: <code>ls &gt; out.txt &amp;</code></li><li>Shell remains responsive while background jobs run</li></ul><h3 id="edge-cases">Edge Cases</h3><ul><li>Very long command lines</li><li>Commands with many arguments</li><li>Rapid command sequences</li><li>Background job completing before next command</li><li>Redirection to <code>/dev/null</code></li><li>Spaces around redirection operators: <code>ls &gt; file.txt</code></li></ul><p>Compare your shell's behavior with <code>bash</code> to verify correctness.</p><hr><h2 id="deliverables">Deliverables</h2><p>Your group's GitHub repository, in addition to a clean, incremental commit history showing individual commits, must contain:</p><ol><li>All source files (<code>.c</code> and <code>.h</code> files)</li><li><code>Makefile</code> with targets:<ul><li><code>all</code>: Compile the shell</li><li><code>clean</code>: Remove binaries and object files</li></ul></li><li><code>README.md</code> with:<ul><li><strong>Complete names</strong> of group members.</li><li>Compilation and usage instructions</li><li>List of implemented features</li><li>Known limitations or bugs</li><li>Design decisions and architecture overview</li><li>Screenshots showing functionality</li></ul></li><li>Test cases or test script demonstrating all required features</li></ol><p>To submit, simply invite the <a href="https://github.com/WhiteLicorice">instructor</a> as a collaborator. Commits after the instructor has already graded the repository will not be considered.</p><p>Then, submit the following, <strong>individually</strong>, through email:</p><ol><li>A short <code>reflection.txt</code> containing a brief summary of lessons learned and challenges encountered during the activity.</li><li>If in a group: a short <code>peer.txt</code> containing your thoughts about the work and conduct of your peers in the group during the activity (this is where you highlight issues, if any).</li><li>The link to your GitHub repository (the instructor will use this link to verify your submission)</li></ol><p>Adhere to the following subject line: <code>[CMSC 125 Lab] Lab 1: Surname, Initials</code>.</p><p>For example: <code>[CMSC 125 Lab] Lab 1: Sanchez, SM</code>.</p><hr><h2 id="academic-honesty">Academic Honesty</h2><p>The usage of Large Language Models (e.g. ChatGPT, Claude, Deepseek, etc.) to generate code is considered cheating. As cheating is against the university's code of ethics, it is subject to failure in the course and harsh disciplinary action.</p><hr><h2 id="important-dates">Important Dates</h2><p>Progress reports and laboratory defense may be booked only during the dates and hours defined in the syllabus. It is mandatory to book appointments ahead of time on the <a href="https://cal.com/renscourses/cmsc125lab">course's booking page</a> (also accessible on the course site).</p><table><thead><tr><th><strong>Activity</strong></th><th style="text-align:center"><strong>Monday</strong></th><th style="text-align:center"><strong>Wednesday</strong></th><th style="text-align:center"><strong>Thursday</strong></th></tr></thead><tbody><tr><td>Week 1 Progress Report</td><td style="text-align:center">Feb 2</td><td style="text-align:center">Feb 4</td><td style="text-align:center">Feb 5</td></tr><tr><td>Week 2 Progress Report</td><td style="text-align:center">Feb 9</td><td style="text-align:center">Feb 11</td><td style="text-align:center">Feb 12</td></tr><tr><td>Week 3 Progress Report</td><td style="text-align:center">Feb 16</td><td style="text-align:center">Feb 18</td><td style="text-align:center">Feb 19</td></tr><tr><td><strong>Week 4 Laboratory Defense</strong></td><td style="text-align:center"><strong>Feb 23</strong></td><td style="text-align:center"><strong>Feb 25</strong></td><td style="text-align:center"><strong>Feb 26</strong></td></tr></tbody></table><p>The instructor must verify appointments ahead of time before they can be considered valid. See the syllabus for proper hours and more details.</p><hr><h2 id="laboratory-grading-rubric">Laboratory Grading Rubric</h2><table><thead><tr><th><strong>Criteria</strong></th><th><strong>Excellent (90-100%)</strong></th><th><strong>Good (75-89%)</strong></th><th><strong>Fair (60-74%)</strong></th><th><strong>Poor (0-59%)</strong></th></tr></thead><tbody><tr><td><strong>System Architecture (25%)</strong></td><td>Modular design with clean separation of concerns; robust data structures; efficient resource usage.</td><td>Mostly modular; logic is functional but slightly coupled; data structures are appropriate.</td><td>Significant logic sprawl; monolithic functions; inconsistent data handling or hard-coded limits.</td><td>Spaghetti code; no modularity; violates basic systems programming principles.</td></tr><tr><td><strong>Robustness (20%)</strong></td><td>Handles complex edge cases and race conditions; perfect resource lifecycle; graceful error recovery.</td><td>Handles core features well; minor issues with fringe edge cases or synchronization logic.</td><td>Basic features work, but system is unstable; frequent resource leaks or intermittent errors.</td><td>Fails core logic; program crashes on unexpected input; incorrect usage of fundamental syscalls.</td></tr><tr><td><strong>Code Engineering (10%)</strong></td><td>No memory leaks; all syscalls check return codes; uses <code>perror</code> appropriately; safe pointer usage.</td><td>Minor leaks or missing checks on non-critical syscalls; mostly safe pointer arithmetic.</td><td>Inconsistent error handling; frequent unsafe operations; significant leaks or lack of bounds checking.</td><td>Frequent segmentation faults; silent failures of syscalls; no evidence of memory management.</td></tr><tr><td><strong>Collaboration (20%)</strong></td><td>Professional Git usage: atomic, semantic commits; use of feature branches; evidence of team collaboration.</td><td>Consistent use of version control; adequate commit messages; evidence of a structured team workflow.</td><td>Inconsistent Git usage; large code dumps instead of incremental progress; vague commit messages.</td><td>Minimal use of version control; repository lacks history or shows no evidence of teamwork.</td></tr><tr><td><strong>Technical Defense (25%)</strong></td><td>Both members articulate the low-level mechanics; handles what-if scenarios and code-tracing confidently.</td><td>Clear architectural explanation; both members participate meaningfully; logic delivery is sound.</td><td>Unclear explanations of system mechanics; uneven participation; struggles with logic-flow questions.</td><td>Unprepared; cannot explain system flow or syscall interactions; unable to defend design decisions.</td></tr></tbody></table><p>*<strong>Remember: &quot;Code tells you how, comments tell you why.&quot;</strong> — Jeff Atwood, co-founder of Stack Overflow and Discourse</p></div><div class="border-t border-border-muted pt-8 pb-12"><a href class="group flex items-center gap-2 text-sm font-medium text-text-dim hover:text-accent transition-colors"><span>&larr;</span> Home</a></div></article><aside class="hidden xl:block relative"><div class="sticky top-8 overflow-y-auto max-h-[calc(100vh-4rem)] pt-10 pl-8"><nav id="toc-content"></nav></div></aside></div></div><button id="scroll-btn" class="fixed bottom-8 right-8 z-50 p-2.5 rounded-full bg-accent/90 text-white shadow-lg shadow-accent/40 hover:bg-accent hover:scale-110 transition-all duration-300 transform translate-y-4 opacity-0 pointer-events-none backdrop-blur-sm" aria-label="Scroll to top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M11.47 2.47a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06l-6.22-6.22V21a.75.75 0 01-1.5 0V4.81l-6.22 6.22a.75.75 0 11-1.06-1.06l7.5-7.5z" clip-rule="evenodd"></path></svg></button><script>Prism.highlightAll()</script></main><footer class="mt-16 border-t border-border-muted bg-bg-base transition-colors duration-300"><div class="mx-auto flex max-w-5xl flex-col items-center py-8"><div class="flex space-x-6 mb-4"><a class="text-text-dim hover:text-accent transition-all hover:scale-110 p-2 &#xA; hover:drop-shadow-[0_0_6px_var(--accent)]" target="_blank" rel="noopener noreferrer" href="https://github.com/WhiteLicorice/Ren-s-Courses" aria-label="GitHub Repository"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hover:text-primary-400 w-6 h-6 fill-current fill-current text-gray-200"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="flex flex-col items-center space-y-1 text-sm text-text-dim font-mono"><div>© 2026 <a class="hover:text-accent transition-colors duration-300 font-bold" href="https://github.com/WhiteLicorice" target="_blank">WhiteLicorice</a></div><a href="https://github.com/BlazorStatic/BlazorStatic" class="hover:text-accent transition-colors duration-300 opacity-75 hover:opacity-100" target="_blank">Powered by BlazorStatic</a></div></div></footer></div><blazor-focus-on-navigate selector="h1"></blazor-focus-on-navigate><script src="js/theme.js"></script><script src="js/calendar.js"></script><script src="js/code-features.js"></script><script src="js/scroll-button.js"></script><script src="js/toc.js"></script><script src="js/site.js"></script></body></html>