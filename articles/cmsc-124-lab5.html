<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><base href="/Ren-s-Courses/"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="icon" type="image/x-icon" href="favicon.ico"><link href="css/app.css" rel="stylesheet"><link href="css/site.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"><link rel="preload" href="css/prism-dark.css" as="style"><link rel="preload" href="css/prism-light.css" as="style"><link id="prism-theme-link" rel="stylesheet" href="css/prism-dark.css"><script>!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("user-theme"),m="dark";m="light"===t?"light":"dark"===t||e?"dark":"light",document.documentElement.setAttribute("data-theme",m),"light"===m&&(document.getElementById("prism-theme-link").href="css/prism-light.css")}()</script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" data-manual></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-python.min.js" integrity="sha512-3qtI9+9JXi658yli19POddU1RouYtkTEhTHo6X5ilOvMiDfNvo6GIS6k2Ukrsx8MyaKSXeVrnIWeyH8G5EOyIQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-nasm.min.js" integrity="sha512-zdmZCKfEirT3AOxxgIwXpIyik7DSpYOnzXujg8duM6ICokx243tPnCTgqiQN+TAhLSMO2UF11C/+gO1DrI+A8A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-bash.min.js" integrity="sha512-35RBtvuCKWANuRid6RXP2gYm4D5RMieVL/xbp6KiMXlIqgNrI7XRUh9HurE8lKHW4aRpC0TZU3ZfqG8qmQ35zA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js" integrity="sha512-dnJS1fxEUNZirzvtoG39P8JWa8DajX420LajzUbn+taV6hd9BfnHHgpPAWNADYjNRPT1Gt4v4/XGMULqi0uqVQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-kotlin.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-c.min.js" integrity="sha512-EWIJI7uQnA8ClViH2dvhYsNA7PHGSwSg03FAfulqpsFiTPHfhdQIvhkg/l3YpuXOXRF2Dk0NYKIl5zemrl1fmA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-gdscript.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-csharp.min.js" integrity="sha512-lNcWxx1oz89gefDhnB9knOCI/GcjlFNZq7ik92IA9AdKVamhge7Z9Ne3MSAim/wPdTrthGF0iQMs19z1WS9gFw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-markdown.min.js" integrity="sha512-4lQBgtc3AKPFSyFxc8Uaq6rz3VHwrSOdQxXtkJN9cS81ErTSoNSBxLDzWNYwwYryuvQpseKWiOmZdArMroqnLw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><link rel="manifest" href="site.webmanifest.json"><meta name="theme-color" content="#ef4444"><link rel="apple-touch-icon" href="apple-touch-icon.png"></head><body class="min-h-screen bg-bg-base font-sans text-text-dim antialiased selection:bg-accent selection:text-white"><div class="flex min-h-screen flex-col bg-bg-base transition-colors duration-300"><header id="main-navbar" class="fixed top-0 left-0 right-0 z-40 w-full border-b border-border-muted bg-bg-base transition-transform duration-300"><div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6 xl:px-0"><div class="flex lg:w-0 lg:flex-1"><a href class="-m-1.5 p-1.5"><div class="text-xl font-bold text-text-main hover:text-accent transition-colors">Ren&#x27;s Courses</div></a></div><nav class="hidden space-x-6 sm:flex items-center"><a href="" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Home</a><a href="materials" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Materials</a><a href="projects" target="_self" class="inline-flex items-center px-3 py-1 text-sm font-medium text-text-dim hover:text-accent transition-all">Showcase</a><div class="relative"><button id="desktop-dropdown-btn" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-text-dim hover:text-accent hover:bg-transparent focus:outline-none focus:ring-0 focus:bg-transparent transition-colors"><span class="sr-only">More menu</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button><div id="desktop-dropdown-menu" class="hidden absolute right-0 mt-2 w-56 origin-top-right rounded-lg bg-surface border border-border-muted shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50"><div class="py-1 max-h-48 overflow-y-auto"><a href="https://forms.gle/mRFBXwhuR3LdvSN3A" target="_blank" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Submissions</span></div></a><a href="bookings" target="_self" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Bookings</span></div></a><a href="calendar" target="_self" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Calendar</span></div></a><a href="https://script.google.com/a/macros/up.edu.ph/s/AKfycbzDek55-JQ1pRgdjQsj8Xoe3CMA-LCwt4ARG3f7SCoskOwsVfIhY0ztXSLVLOfH0i_smw/exec" target="_blank" class="block px-4 py-2 text-sm text-text-dim hover:bg-surface-hover hover:text-accent transition-colors"><div class="flex items-center justify-between"><span>Grades</span></div></a></div></div></div><button type="button" class="theme-toggle-btn p-2 text-text-dim hover:text-accent transition-colors rounded-md" aria-label="Toggle Theme"><svg class="icon-sun hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg> <svg class="icon-moon hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button></nav><div class="flex flex-1 justify-end sm:hidden"><button id="toggle-button" type="button" class="-m-2.5 p-2.5 text-text-dim hover:text-accent"><span class="sr-only">Open main menu</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div></div></header><div class="h-16 w-full"></div><div id="mobile-menu-container" class="hidden fixed inset-0 z-50"><div id="mobile-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-100"></div><div class="relative w-full h-full max-h-screen overflow-y-auto bg-bg-base border-b border-border-muted shadow-2xl transform transition-transform"><div class="flex items-center justify-between px-6 py-4 border-b border-border-muted/50 sticky top-0 bg-bg-base z-10"><span class="font-bold text-text-main">Navigate</span><div class="flex items-center gap-2"><button type="button" class="theme-toggle-btn p-2 text-text-dim hover:text-accent bg-surface rounded-md border border-border-muted"><svg class="icon-sun hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg> <svg class="icon-moon hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button> <button id="close-mobile-menu-button" class="p-2 text-text-dim hover:text-accent bg-surface rounded-md border border-border-muted"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div><div class="px-6 py-6 space-y-2 pb-24"><a href="" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Home</div></a><a href="materials" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Materials</div></a><a href="projects" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Showcase</div></a><a href="https://forms.gle/mRFBXwhuR3LdvSN3A" target="_blank" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Submissions</div></a><a href="bookings" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Bookings</div></a><a href="calendar" target="_self" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Calendar</div></a><a href="https://script.google.com/a/macros/up.edu.ph/s/AKfycbzDek55-JQ1pRgdjQsj8Xoe3CMA-LCwt4ARG3f7SCoskOwsVfIhY0ztXSLVLOfH0i_smw/exec" target="_blank" class="block rounded-lg px-3 py-3 text-base font-semibold leading-7 text-text-main hover:bg-accent-dim hover:text-accent transition-colors"><div class="flex items-center gap-3">Grades</div></a></div></div></div><script>const menuContainer=document.querySelector("#mobile-menu-container"),backdrop=document.querySelector("#mobile-backdrop"),toggleBtn=document.querySelector("#toggle-button"),closeBtn=document.querySelector("#close-mobile-menu-button"),toggleMobileMenu=()=>{menuContainer.classList.contains("hidden")?(menuContainer.classList.remove("hidden"),document.body.classList.add("overflow-hidden")):(menuContainer.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))};toggleBtn.addEventListener("click",toggleMobileMenu),closeBtn.addEventListener("click",toggleMobileMenu),backdrop.addEventListener("click",toggleMobileMenu);const desktopBtn=document.getElementById("desktop-dropdown-btn"),desktopMenu=document.getElementById("desktop-dropdown-menu");function initThemeToggle(){const e=document.querySelectorAll(".theme-toggle-btn"),t=t=>{e.forEach(e=>{const n=e.querySelector(".icon-sun"),o=e.querySelector(".icon-moon");"light"===t?(n.classList.add("hidden"),o.classList.remove("hidden")):(o.classList.add("hidden"),n.classList.remove("hidden"))})},n=document.documentElement.getAttribute("data-theme")||"dark";t(n),e.forEach(e=>{e.addEventListener("click",()=>{const e="light"===document.documentElement.getAttribute("data-theme")?"dark":"light";window.switchPrismTheme&&(window.switchPrismTheme(e),t(e))})});new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"data-theme"===e.attributeName&&t(document.documentElement.getAttribute("data-theme"))})}).observe(document.documentElement,{attributes:!0})}desktopBtn&&desktopMenu&&(desktopBtn.addEventListener("click",e=>{e.stopPropagation(),desktopMenu.classList.toggle("hidden")}),document.addEventListener("click",e=>{desktopMenu.classList.contains("hidden")||desktopMenu.contains(e.target)||e.target===desktopBtn||desktopMenu.classList.add("hidden")})),initThemeToggle();let lastScrollTop=0;const navbar=document.getElementById("main-navbar");window.addEventListener("scroll",function(){let e=window.pageYOffset||document.documentElement.scrollTop;if(e<=64)return navbar.classList.remove("-translate-y-full"),void(lastScrollTop=e);e>lastScrollTop?(navbar.classList.add("-translate-y-full"),desktopMenu&&!desktopMenu.classList.contains("hidden")&&desktopMenu.classList.add("hidden"),menuContainer.classList.contains("hidden")?navbar.classList.add("-translate-y-full"):navbar.classList.remove("-translate-y-full")):navbar.classList.remove("-translate-y-full"),lastScrollTop=e})</script><main class="flex-grow w-full mx-auto max-w-5xl px-4 sm:px-6 xl:px-0"><div class="w-full px-4 animate-fade-in"><div class="grid grid-cols-1 xl:grid-cols-[1fr_minmax(auto,65ch)_1fr] gap-8 relative max-w-[1920px] mx-auto"><div class="hidden xl:block"></div><article class="min-w-0 w-full mx-auto max-w-[65ch]"><header class="border-b border-border-muted pb-10 pt-10 text-center"><div class="mb-6 flex justify-center gap-2"><a href="materials/cmsc-124" class="rounded border border-accent/50 bg-accent-dim px-2 py-1 text-xs font-medium text-accent hover:bg-accent hover:text-white transition-colors uppercase tracking-wider">cmsc-124</a></div><h1 class="text-3xl font-bold text-text-main sm:text-5xl font-mono">Functions</h1><p class="mt-3 text-xl text-text-dim font-mono">CMSC 124 Lab 5</p><div class="mt-8 flex flex-col items-center gap-3"><div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-3 text-sm text-text-dim font-mono"><a href="https://github.com/WhiteLicorice" target="_blank" rel="noopener noreferrer" class="flex flex-col sm:flex-row items-center gap-1 sm:gap-2 text-text-dim hover:text-accent transition-colors group"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hover:text-primary-400 w-5 h-5 sm:w-4 sm:h-4 shrink-0 group-hover:text-accent fill-current text-gray-200"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> <span class="font-medium">Ren</span></a><span class="hidden sm:inline text-border-muted mx-1">•</span> <time>November 4, 2025</time></div><a href="https://drive.google.com/file/d/1M0n0_Y1DZG90mKMWd1saM7jjoFs8EyIq/view?usp=drive_link" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-accent hover:text-text-main transition-colors group text-sm font-medium mt-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 transition-transform group-hover:translate-y-0.5"><path d="M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"></path><path d="M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"></path></svg> <span class="border-b border-accent/30 group-hover:border-text-main pb-0.5">Download</span></a></div></header><div class="xl:hidden mt-8 mb-4"><details class="group bg-surface border border-border-muted rounded-lg overflow-hidden"><summary class="flex items-center justify-between p-4 cursor-pointer list-none text-text-dim font-mono text-sm font-bold"><span><span class="text-accent mr-2">>></span>Table of Contents</span> <svg class="w-4 h-4 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></summary><div class="p-4 pt-0 border-t border-border-muted/50"><nav id="mobile-toc-content" class="mt-2"></nav></div></details></div><div class="prose max-w-none py-10"><p>Welcome to the last leg of your language hacking journey. You've built a scanner, parser, and evaluator, then added scoping to your interpreter. Now it's time to add the features that will transform your interpreter from a sophisticated calculator into a real programming language: <strong>control flow</strong> and <strong>functions</strong>.</p><p>Control flow lets your programs make decisions and repeat operations. Functions let you package reusable chunks of code. Together, these features give your language the power to solve real problems, taking one step closer to Turing-completeness. A programming language without these constructs is like a car without a steering wheel—it can move, but you can't really go anywhere interesting.</p><p>This final lab represents the culmination of everything you've learned. By the end, you'll have implemented a complete, Turing-complete programming language. That's no small feat!</p><h2 id="if-else">If-Else</h2><p>Every useful program needs to make decisions. Should we execute this code or that code? Should we repeat this operation or move on? This is what control flow constructs enable.</p><p>The most fundamental control flow construct is the <strong>if statement</strong>. It evaluates a condition and executes different code depending on whether the condition is true or false:</p><pre><code class="language-kotlin">if (temperature &gt; 30) {
    print &quot;It's hot!&quot;;
} else {
    print &quot;It's comfortable.&quot;;
}
</code></pre><p>The condition (the expression in parentheses) gets evaluated to a boolean value using your truthiness rules from Lab 3. If it's truthy, execute the first branch. If it's falsey, execute the else branch (if one exists).</p><p>Your grammar might look like:</p><pre><code>statement      → exprStmt | printStmt | varDecl | block | ifStmt ;
ifStmt         → &quot;if&quot; &quot;(&quot; expression &quot;)&quot; statement ( &quot;else&quot; statement )? ;
</code></pre><p>Notice that the branches are statements, not just blocks. This allows single-statement branches without braces, though many style guides discourage this. It also enables <strong>cascading if-else chains</strong>. Like so:</p><pre><code class="language-kotlin">if (score &gt;= 90) {
    grade = &quot;A&quot;;
} else if (score &gt;= 80) {
    grade = &quot;B&quot;;
} else if (score &gt;= 70) {
    grade = &quot;C&quot;;
} else {
    grade = &quot;F&quot;;
}
</code></pre><p>This works because the <code>else if</code> is really an <code>else</code> containing another <code>if</code> statement.</p><h2 id="the-dangling-else-problem">The Dangling Else Problem</h2><p>If you allow if statements without braces, you'll encounter a classic parsing ambiguity. Consider:</p><pre><code class="language-kotlin">if (first)
    if (second)
        print &quot;both&quot;;
    else
        print &quot;???&quot;;
</code></pre><p>Which <code>if</code> does the <code>else</code> belong to? The grammar is ambiguous—it allows two different parse trees. Most languages resolve this by having the <code>else</code> bind to the nearest <code>if</code>. Your parser should naturally do this if you implement the grammar correctly, but be aware of the issue.</p><h2 id="loops">Loops</h2><p>The second pillar of control flow is repetition. While you could achieve repetition with recursion and if statements (and some languages do!), loops are more intuitive for most programmers.</p><p>The <strong>while loop</strong> is the simplest. It repeatedly executes a statement as long as a condition remains true:</p><pre><code class="language-kotlin">var i = 0;
while (i &lt; 10) {
    print i;
    i = i + 1;
}
</code></pre><p>Your grammar may add:</p><pre><code>statement      → ... | whileStmt ;
whileStmt      → &quot;while&quot; &quot;(&quot; expression &quot;)&quot; statement ;
</code></pre><p>The implementation is straightforward: evaluate the condition, and if truthy, execute the body statement. Then loop back and check the condition again. Repeat until the condition becomes falsey.</p><p>Most languages also include a <strong>for loop</strong>. The for loop is really just syntactic sugar—a more convenient way to write a common pattern. The classic C-style for loop has three parts: an initializer, a condition, and an increment:</p><pre><code class="language-kotlin">for (var i = 0; i &lt; 10; i = i + 1) {
    print i;
}
</code></pre><p>This is equivalent to:</p><pre><code class="language-kotlin">{
    var i = 0;
    while (i &lt; 10) {
        print i;
        i = i + 1;
    }
}
</code></pre><p>Your grammar might be:</p><pre><code>statement      → ... | forStmt ;
forStmt        → &quot;for&quot; &quot;(&quot; ( varDecl | exprStmt | &quot;;&quot; )
                 expression? &quot;;&quot;
                 expression? &quot;)&quot; statement ;
</code></pre><p>The three parts are all optional, which is why you see the <code>?</code> markers. An infinite loop would be <code>for (;;) { ... }</code>.</p><p>When executing a for loop, you can desugar it into the while loop equivalent during parsing or evaluation. This keeps your implementation simpler—you don't need separate logic for for loops.</p><h2 id="logical-operators">Logical Operators</h2><p>With control flow, you'll often need to combine conditions. <strong>Logical operators</strong> <code>and</code> and <code>or</code> (or <code>&amp;&amp;</code> and <code>||</code> in C-style syntax) fill this role:</p><pre><code class="language-kotlin">if (temperature &gt; 30 and humidity &gt; 80) {
    print &quot;It's hot AND humid!&quot;;
}
</code></pre><p>These operators are special because they <strong>short-circuit</strong>. The <code>and</code> operator only evaluates its right operand if the left operand is true. The <code>or</code> operator only evaluates its right operand if the left operand is false. This isn't just an optimization—it affects program semantics.</p><p>Consider:</p><pre><code class="language-kotlin">if (denominator != 0 and numerator / denominator &gt; 1) {
    print &quot;Ratio is greater than 1&quot;;
}
</code></pre><p>If <code>denominator</code> is zero, the right side never evaluates, avoiding a division-by-zero error. Without short-circuiting, this code would crash.</p><p>Your grammar needs to place these operators at the right precedence level. For example:</p><pre><code>expression     → assignment ;
assignment     → IDENTIFIER &quot;=&quot; assignment | logicOr ;
logicOr        → logicAnd ( &quot;or&quot; logicAnd )* ;
logicAnd       → equality ( &quot;and&quot; equality )* ;
</code></pre><p>The <code>or</code> operator has lower precedence than <code>and</code>, matching how we think about them in natural language.</p><h2 id="functions">Functions</h2><p>Functions are one of the most important abstractions in programming. They let you:</p><ul><li>Package code for reuse</li><li>Give meaningful names to operations</li><li>Hide implementation details</li><li>Reduce code duplication</li><li>Build programs compositionally</li></ul><p>A function declaration might look like:</p><pre><code class="language-kotlin">fun greet(name) {
    print &quot;Hello, &quot; + name + &quot;!&quot;;
}
</code></pre><p>And you call it like:</p><pre><code class="language-kotlin">greet(&quot;Alice&quot;);
greet(&quot;Bob&quot;);
</code></pre><p>Your grammar may extend to include function declarations and calls:</p><pre><code>declaration    → funDecl | varDecl | statement ;
funDecl        → &quot;fun&quot; IDENTIFIER &quot;(&quot; parameters? &quot;)&quot; block ;
parameters     → IDENTIFIER ( &quot;,&quot; IDENTIFIER )* ;

primary        → ... | IDENTIFIER | &quot;(&quot; expression &quot;)&quot; ;
call           → primary ( &quot;(&quot; arguments? &quot;)&quot; )* ;
arguments      → expression ( &quot;,&quot; expression )* ;
</code></pre><p>Notice that calls are postfix operators on expressions. You can call any expression that evaluates to a callable value: <code>getFunction()()</code>.</p><h2 id="function-objects-and-closures">Function Objects and Closures</h2><p>When you declare a function, what actually happens? You need to store information about the function so you can execute it later when it's called. Most implementations create a <strong>function object</strong> that contains:</p><ul><li>The function's parameter names</li><li>The function body (as an AST node)</li><li>The environment where the function was declared (for closures)</li></ul><p>This function object gets stored in your environment just like any other value. The function's name is a variable that holds a reference to the function object.</p><p>The environment capture is crucial for <strong>closures</strong>—functions that &quot;close over&quot; and remember variables from their enclosing scope. Do closures exist in your language? If so, this is where you implement them.</p><pre><code class="language-kotlin">fun makeCounter() {
    var count = 0;
    fun increment() {
        count = count + 1;
        return count;
    }
    return increment;
}

var counter = makeCounter();
print counter();  // 1
print counter();  // 2
print counter();  // 3
</code></pre><p>The <code>increment</code> function remembers the <code>count</code> variable even after <code>makeCounter</code> has returned. This is only possible if the function stores a reference to the environment where it was created.</p><h2 id="calling-functions">Calling Functions</h2><p>When a function is called, you need to:</p><ol><li>Evaluate all argument expressions</li><li>Create a new environment for the function execution</li><li>The new environment's parent should be the function's closure environment (where it was declared), not the current environment (where it's being called)</li><li>Bind parameter names to argument values in the new environment</li><li>Execute the function body in this new environment</li><li>Return the result (if any)</li></ol><p>This process is called <strong>dynamic dispatch</strong>—deciding at runtime which code to execute based on what function object you're calling.</p><h2 id="return-statements">Return Statements</h2><p>Functions need a way to send values back to their callers. The <code>return</code> statement does this:</p><pre><code class="language-kotlin">fun add(a, b) {
    return a + b;
}

var result = add(3, 5);
print result;  // 8
</code></pre><p>Your grammar adds:</p><pre><code>statement      → ... | returnStmt ;
returnStmt     → &quot;return&quot; expression? &quot;;&quot; ;
</code></pre><p>The expression is optional—<code>return;</code> with no value is valid. This implicitly returns <code>nil</code> (or your language's equivalent).</p><p>Implementing return is tricky because it needs to unwind the call stack, potentially exiting through multiple nested statements and blocks. Many implementations use exceptions for control flow here. When you execute a return statement, you can trivially throw a special &quot;return exception&quot; that carries the return value. The function call catches this exception and uses the value as the function's result.</p><h2 id="native-functions">Native Functions</h2><p>Before users can write functions, your interpreter needs at least one function they can call—otherwise there's no way to get the ball rolling. Most languages provide <strong>native functions</strong> (also called built-in or primitive functions) implemented in the host language.</p><p>For example, you might want a <code>clock()</code> function that returns the current time, or a <code>readLine()</code> function for user input. These can't be implemented in your language because they need to access host language capabilities.</p><p>Implement native functions as callable objects that execute host language code instead of interpreting AST nodes. Add them to your global environment before executing any user code.</p><h2 id="arity-checking">Arity Checking</h2><p>Functions have a specific number of parameters (their <strong>arity</strong>). Most languages require that calls provide exactly the right number of arguments:</p><pre><code class="language-kotlin">fun add(a, b) {
    return a + b;
}

add(1, 2);     // OK
add(1);        // Error: Expected 2 arguments but got 1
add(1, 2, 3);  // Error: Expected 2 arguments but got 3
</code></pre><p>Check arity when calling functions and report clear errors for mismatches. This catches bugs early.</p><p>Some languages allow default parameters or variadic functions (accepting any number of arguments). These are optional enhancements if you want to implement them.</p><h2 id="recursion">Recursion</h2><p>One beautiful consequence of your implementation is that recursion should &quot;just work.&quot; Since function names are variables in the environment, and that environment is accessible during function execution, a function can call itself:</p><pre><code class="language-kotlin">fun fibonacci(n) {
    if (n &lt;= 1) return n;
    return fibonacci(n - 1) + fibonacci(n - 2);
}

print fibonacci(10);  // 55
</code></pre><p>Make sure your implementation handles this correctly. Test with recursive functions, including mutually recursive functions (where function A calls function B, which calls function A).</p><h2 id="laboratory-deliverables">Laboratory Deliverables</h2><h3 id="grammar-extension">Grammar Extension</h3><p>Update your language's grammar to include control flow and functions. Add production rules for:</p><ul><li>If statements (with optional else)</li><li>While loops</li><li>For loops</li><li>Logical operators (and, or)</li><li>Function declarations</li><li>Function calls</li><li>Return statements</li></ul><p>Document these in your README.md under the Grammar section. Your complete grammar should now describe a Turing-complete programming language.</p><h3 id="control-flow-implementation">Control Flow Implementation</h3><p>Extend your parser and evaluator to support:</p><ul><li>If-else statements with correct precedence</li><li>While loops</li><li>For loops (can be desugared to while loops)</li><li>Short-circuiting logical operators</li><li>Proper scoping for loop variables</li></ul><h3 id="function-implementation">Function Implementation</h3><p>Implement functions with:</p><ul><li>Function declaration statements</li><li>Function call expressions</li><li>Parameter binding</li><li>Return statements (including early returns)</li><li>Closures (capturing enclosing environment)</li><li>Proper environment management for calls</li><li>Arity checking with clear error messages</li></ul><h3 id="native-functions-1">Native Functions</h3><p>Add at least two native functions to your language. Suggested examples:</p><ul><li><code>clock()</code>: Returns current time in seconds</li><li><code>print(value)</code>: Prints a value (if not already a statement)</li><li><code>readLine()</code>: Reads user input</li><li><code>toString(value)</code>: Converts value to string</li></ul><h3 id="comprehensive-testing">Comprehensive Testing</h3><p>Create test programs demonstrating:</p><ul><li>Conditional execution (if-else)</li><li>Loops (while and for)</li><li>Nested control flow</li><li>Function declaration and calling</li><li>Recursive functions</li><li>Closures</li><li>Higher-order functions (functions that take or return functions)</li><li>Error handling (wrong arity, etc.)</li></ul><p>You should have several script files showcasing your language's capabilities. These will be demonstrated during your final defense.</p><h3 id="language-showcase">Language Showcase</h3><p>Write at least one non-trivial program in your language that demonstrates its capabilities. Add this as an example program in your repository (perhaps in an <code>examples/</code> directory).</p><p>As always, commit your changes with meaningful messages. This is the final major addition to your interpreter—you should be proud of what you've built!</p><hr><h2 id="expected-output">Expected Output</h2><p><strong>Control Flow:</strong></p><pre><code class="language-kotlin">&gt; var x = 5;
&gt; if (x &gt; 3) print &quot;x is big&quot;;
x is big
&gt; if (x &gt; 10) {
&gt;     print &quot;x is huge&quot;;
&gt; } else {
&gt;     print &quot;x is not that big&quot;;
&gt; }
x is not that big
&gt; var i = 0;
&gt; while (i &lt; 3) {
&gt;     print i;
&gt;     i = i + 1;
&gt; }
0
1
2
&gt; for (var j = 0; j &lt; 3; j = j + 1) {
&gt;     print j;
&gt; }
0
1
2
&gt; if (true or false) print &quot;yep&quot;;
yep
&gt; if (false and true) print &quot;nope&quot;; else print &quot;correct&quot;;
correct
</code></pre><p><strong>Functions:</strong></p><pre><code class="language-kotlin">&gt; fun greet(name) {
&gt;     print &quot;Hello, &quot; + name + &quot;!&quot;;
&gt; }
&gt; greet(&quot;Alice&quot;);
Hello, Alice!
&gt; fun add(a, b) {
&gt;     return a + b;
&gt; }
&gt; print add(3, 5);
8
&gt; fun fibonacci(n) {
&gt;     if (n &lt;= 1) return n;
&gt;     return fibonacci(n - 1) + fibonacci(n - 2);
&gt; }
&gt; print fibonacci(10);
55
&gt; fun makeCounter() {
&gt;     var count = 0;
&gt;     fun increment() {
&gt;         count = count + 1;
&gt;         return count;
&gt;     }
&gt;     return increment;
&gt; }
&gt; var counter = makeCounter();
&gt; print counter();
1
&gt; print counter();
2
&gt; print counter();
3
&gt; greet();
[line 1] Runtime error: Expected 1 arguments but got 0.
&gt; add(1, 2, 3);
[line 1] Runtime error: Expected 2 arguments but got 3.
</code></pre><p><strong>Example script file (<code>fibonacci.txt</code>):</strong></p><pre><code class="language-kotlin">// Recursive Fibonacci implementation
fun fibonacci(n) {
    if (n &lt;= 1) {
        return n;
    }
    return fibonacci(n - 1) + fibonacci(n - 2);
}

// Print first 15 Fibonacci numbers
for (var i = 0; i &lt; 15; i = i + 1) {
    print &quot;fib(&quot; + i + &quot;) = &quot; + fibonacci(i);
}
</code></pre><p><strong>Output:</strong></p><pre><code class="language-bash">$ java -jar language.jar fibonacci.txt
fib(0) = 0
fib(1) = 1
fib(2) = 1
fib(3) = 2
fib(4) = 3
fib(5) = 5
fib(6) = 8
fib(7) = 13
fib(8) = 21
fib(9) = 34
fib(10) = 55
fib(11) = 89
fib(12) = 144
fib(13) = 233
fib(14) = 377
</code></pre><p><strong>Example script file (<code>closures.txt</code>):</strong></p><pre><code class="language-kotlin">// Demonstrate closures
fun makePrinter(prefix) {
    fun print(message) {
        print prefix + &quot;: &quot; + message;
    }
    return print;
}

var errorPrinter = makePrinter(&quot;ERROR&quot;);
var infoPrinter = makePrinter(&quot;INFO&quot;);
</code></pre></div><div class="border-t border-border-muted pt-8 pb-12"><a href class="group flex items-center gap-2 text-sm font-medium text-text-dim hover:text-accent transition-colors"><span>&larr;</span> Home</a></div></article><aside class="hidden xl:block relative"><div class="sticky top-8 overflow-y-auto max-h-[calc(100vh-4rem)] pt-10 pl-8"><nav id="toc-content"></nav></div></aside></div></div><button id="scroll-btn" class="fixed bottom-8 right-8 z-50 p-2.5 rounded-full bg-accent/90 text-white shadow-lg shadow-accent/40 hover:bg-accent hover:scale-110 transition-all duration-300 transform translate-y-4 opacity-0 pointer-events-none backdrop-blur-sm" aria-label="Scroll to top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M11.47 2.47a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06l-6.22-6.22V21a.75.75 0 01-1.5 0V4.81l-6.22 6.22a.75.75 0 11-1.06-1.06l7.5-7.5z" clip-rule="evenodd"></path></svg></button><script>Prism.highlightAll()</script></main><footer class="mt-16 border-t border-border-muted bg-bg-base transition-colors duration-300"><div class="mx-auto flex max-w-5xl flex-col items-center py-8"><div class="flex space-x-6 mb-4"><a class="text-text-dim hover:text-accent transition-all hover:scale-110 p-2 &#xA; hover:drop-shadow-[0_0_6px_var(--accent)]" target="_blank" rel="noopener noreferrer" href="https://github.com/WhiteLicorice/Ren-s-Courses" aria-label="GitHub Repository"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hover:text-primary-400 w-6 h-6 fill-current fill-current text-gray-200"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="flex flex-col items-center space-y-1 text-sm text-text-dim font-mono"><div>© 2026 <a class="hover:text-accent transition-colors duration-300 font-bold" href="https://github.com/WhiteLicorice" target="_blank">WhiteLicorice</a></div><a href="https://github.com/BlazorStatic/BlazorStatic" class="hover:text-accent transition-colors duration-300 opacity-75 hover:opacity-100" target="_blank">Powered by BlazorStatic</a></div></div></footer></div><blazor-focus-on-navigate selector="h1"></blazor-focus-on-navigate><script src="js/theme.js"></script><script src="js/calendar.js"></script><script src="js/code-features.js"></script><script src="js/scroll-button.js"></script><script src="js/toc.js"></script><script src="js/site.js"></script></body></html>